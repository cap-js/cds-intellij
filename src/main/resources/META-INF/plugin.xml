<idea-plugin>
    <id>com.sap.cap.cds</id>
    <name>SAP CDS Language Support</name>
    <vendor url="https://sap.com/">SAP SE</vendor>
    <description><![CDATA[ Provides support for the <a href="https://cap.cloud.sap/docs/cds/">CDS language</a> in IntelliJ IDEs. Use these powerful features:
<ul>
    <li>Syntax highlighting</li>
    <li>Code completion</li>
    <li>Goto definition</li>
    <li>Hover documentation</li>
    <li>Document formatting</li>
    <li>Diagnostics</li>
    <li>Quick fixes</li>
</ul>
The set of features will grow with future releases, aligned with the development of the JetBrains IntelliJ LSP API.]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.ultimate</depends>
    <depends>org.jetbrains.plugins.textmate</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType
                name="cds"
                implementationClass="com.sap.cap.cds.intellij.FileType"
                fieldName="INSTANCE"
                language="cds"
                extensions="cds"/>
        <platform.lsp.serverSupportProvider implementation="com.sap.cap.cds.intellij.lsp.ServerSupportProvider"/>
        <notificationGroup id="com.sap.cap.cds.intellij.notifications"
                           displayType="BALLOON"/>
    </extensions>

    <applicationListeners>
        <listener
                topic="com.intellij.ide.AppLifecycleListener"
                class="com.sap.cap.cds.intellij.textmate.BundleManager"
                activeInHeadlessMode="true" activeInTestMode="true"
        />
        <listener
                topic="com.intellij.openapi.startup.StartupActivity"
                class="com.sap.cap.cds.intellij.textmate.BundleManager"
                activeInHeadlessMode="true" activeInTestMode="true"
        />
        <listener
                topic="com.intellij.ide.plugins.DynamicPluginListener"
                class="com.sap.cap.cds.intellij.textmate.BundleManager"
                activeInHeadlessMode="true" activeInTestMode="true"
        />
    </applicationListeners>
    <projectListeners>
        <listener
                topic="com.intellij.openapi.startup.ProjectActivity"
                class="com.sap.cap.cds.intellij.textmate.BundleManager"
                activeInHeadlessMode="true" activeInTestMode="true"
        />
    </projectListeners>

    <change-notes><![CDATA[ <h3>Changed</h3>
<ul>
    <li>include @sap/cds-lsp 8.2.1 with:
        <ul>
            <li>code completion for artifacts within `using` statements now also completes single name segments with complete name</li>
            <li>minimum required Node.js version is now 20.9.0</li>
            <li>hover and completion proposal details now show artifact kind</li>
            <li>fix: highlighting of element names in annotate statements and of special element names `entity`, `type`, `event`</li>
            <li>fix: completion: rename of source folders led to wrong using path proposals</li>
            <li>fix: completion: using path proposals did not work in multi-line using statements</li>
            <li>fix: maintain translation quickfix sent wrong document version</li>
        </ul>
    </li>
</ul> ]]></change-notes>
</idea-plugin>
